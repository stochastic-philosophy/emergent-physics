<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Console - Tablet Development</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #000; color: #0f0; }
        .error { color: #ff6b6b; border: 1px solid #ff6b6b; padding: 10px; margin: 5px 0; }
        .log { color: #4ecdc4; padding: 5px; margin: 2px 0; }
        .warn { color: #ffe66d; padding: 5px; margin: 2px 0; }
        #output { max-height: 80vh; overflow-y: auto; border: 1px solid #333; padding: 10px; }
        button { padding: 10px; margin: 5px; background: #333; color: #0f0; border: 1px solid #0f0; cursor: pointer; }
        button:hover { background: #0f0; color: #000; }
    </style>
</head>
<body>
    <h1>üêõ TABLET DEBUG CONSOLE</h1>
    <button onclick="clearDebug()">Clear</button>
    <button onclick="testFeatures()">Test Features</button>
    <button onclick="testMathJax()">Test MathJax</button>
    <div id="output"></div>

    <script>
        // Kaappaa kaikki console-kutsut
        const output = document.getElementById('output');
        
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        
        console.log = function(...args) {
            output.innerHTML += `<div class="log">LOG: ${args.join(' ')}</div>`;
            output.scrollTop = output.scrollHeight;
            originalLog.apply(console, args);
        };
        
        console.error = function(...args) {
            output.innerHTML += `<div class="error">ERROR: ${args.join(' ')}</div>`;
            output.scrollTop = output.scrollHeight;
            originalError.apply(console, args);
        };
        
        console.warn = function(...args) {
            output.innerHTML += `<div class="warn">WARN: ${args.join(' ')}</div>`;
            output.scrollTop = output.scrollHeight;
            originalWarn.apply(console, args);
        };
        
        // Kaappaa JavaScript virheet
        window.addEventListener('error', function(e) {
            output.innerHTML += `<div class="error">JS ERROR: ${e.message}<br>File: ${e.filename}<br>Line: ${e.lineno}</div>`;
            output.scrollTop = output.scrollHeight;
        });
        
        function clearDebug() {
            output.innerHTML = '';
        }
        
        function testFeatures() {
            console.log('Testing localStorage...');
            try {
                localStorage.setItem('test', 'ok');
                console.log('‚úÖ localStorage works');
            } catch(e) {
                console.error('‚ùå localStorage failed:', e);
            }
            
            console.log('Testing fetch...');
            fetch('manifest.json')
                .then(r => {
                    console.log('‚úÖ Fetch works, status:', r.status);
                    return r.json();
                })
                .then(data => console.log('‚úÖ JSON parsing works'))
                .catch(e => console.error('‚ùå Fetch failed:', e));
        }
        
        function testMathJax() {
            console.log('Testing MathJax...');
            if (window.MathJax) {
                console.log('‚úÖ MathJax loaded');
            } else {
                console.error('‚ùå MathJax not loaded');
            }
        }
    </script>
</body>
</html>
